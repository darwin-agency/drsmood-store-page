<head>
  <link rel="stylesheet" href="./style.css" />

  <link
    href="https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.css"
    rel="stylesheet"
  />
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.js"></script>
  <script src="https://unpkg.com/@mapbox/mapbox-gl-markers"></script>
</head>
<div class="page-width">
  <main class="store-container">
    <section class="menu-container">
      <header>
        <span> Breakfast </span>
        <hr />
      </header>
      <ul>
        <li>
          <div class="information">
            <h3 class="information-title">Coconut Probiotic Yogurt</h3>
            <div class="description">
              Coconut Yogurt, Mango, Ginger Nut Crumble, Mango Coulis, Mint
            </div>
          </div>
        </li>

        <li>
          <div class="information">
            <h3 class="information-title">Coconut Probiotic Yogurt</h3>
            <div class="description">
              Coconut Yogurt, Mango, Ginger Nut Crumble, Mango Coulis, Mint
            </div>
          </div>
        </li>

        <li>
          <div class="information">
            <h3 class="information-title">Coconut Probiotic Yogurt</h3>
            <div class="description">
              Coconut Yogurt, Mango, Ginger Nut Crumble, Mango Coulis, Mint
            </div>
          </div>
        </li>

        <li>
          <div class="information">
            <h3 class="information-title">Coconut Probiotic Yogurt</h3>
            <div class="description">
              Coconut Yogurt, Mango, Ginger Nut Crumble, Mango Coulis, Mint
            </div>
          </div>
        </li>
      </ul>

      <header>
        <div class="menu-container-row">
          <span>Avocado Toast</span>
          <div class="menu-container-submenu">
            <div class="submenu">Regular</div>
            <div class="submenu">Large</div>
          </div>
        </div>
        <hr />
      </header>

      <ul>
        <li>
          <div class="information">
            <div class="information__container">
              <div class="information-slot">
                <h3 class="information-title">Classic</h3>
                <div class="description">
                  Avocado, EVOO, Himalayan Salt, Black Pepper
                </div>
              </div>
              <div class="information-slot information-slot__prices">
                <div>$9.95</div>
                <div>$13.95</div>
              </div>
            </div>
          </div>
        </li>

        <li>
          <div class="information">
            <h3 class="information-title">Coconut Probiotic Yogurt</h3>
            <div class="description">
              Coconut Yogurt, Mango, Ginger Nut Crumble, Mango Coulis, Mint
            </div>
          </div>
        </li>

        <li>
          <div class="information">
            <h3 class="information-title">Coconut Probiotic Yogurt</h3>
            <div class="description">
              Coconut Yogurt, Mango, Ginger Nut Crumble, Mango Coulis, Mint
            </div>
          </div>
        </li>

        <li>
          <div class="information">
            <h3 class="information-title">Coconut Probiotic Yogurt</h3>
            <div class="description">
              Coconut Yogurt, Mango, Ginger Nut Crumble, Mango Coulis, Mint
            </div>
          </div>
        </li>
      </ul>
    </section>

    <section class="info-container">
      <h1>Café Smood (Insert Location Name)</h1>
      <h3>(Insert Address), Miami, FL 33127</h3>
      <div class="chips-container">
        <div class="chip">
          <span>Organic Ingredients</span>
        </div>
        <div class="chip">
          <span>Original Menu</span>
        </div>
      </div>
      <h4 class="info-container--description">
        Café Smood Wynwood is our newest location of curated world cuisine
        served in a contemporary casual setting. Experience a new mood as we
        introduce a curation of organic beer and wines. Open from 10am to 10pm
        our menu shifts from breakfast and lunch to a new dinner menu ripe with
        delicious plates to share.
      </h4>
      <div id="map"></div>
      <div class="order-online">
        <span class="order-online--description">Online Store</span>
      </div>
    </section>
  </main>

  <script>
    async function init() {
      return new Promise((resolve, reject) => {
        try {
          mapboxgl.accessToken =
            "pk.eyJ1IjoibHVpemtjIiwiYSI6ImNsZXQwZ2M2ajBjeW4zem1hYnUyemJwOTQifQ.3qu-Cyft6hQ-leKjgYSO_w";
          const map = new mapboxgl.Map({
            container: "map",
            style: "mapbox://styles/luizkc/clet0ghtw00ad01oal8vppqgs",
            center: [-80.199179, 25.798288],
            zoom: 16,
            dragPan: false,
            minZoom: 13,
          });

          resolve(map);
        } catch (error) {
          reject(error);
        }
      });
    }

    function createTooltip(map) {
      const marker = new mapboxgl.Marker({ color: "red" })
        .setLngLat([-80.199179, 25.798288])
        .addTo(map);
      const tooltip = new mapboxgl.Marker({ color: "red" })
        .setLngLat([-80.199179, 25.798288])
        .addTo(map);
      return {
        marker,
        tooltip,
      };
    }

    function handleTooltip({ marker, tooltip }) {
      tooltip.getElement().className = "marker-tooltip";
      tooltip.setPopup(
        new mapboxgl.Popup({ offset: 25 }).setHTML(
          "<h3>Dr Smood Wynwood</h3><p>phone: (786) 334-5508</p><p>hello@drsmood.com</p>"
        )
      );
      tooltip
        .getElement()
        .addEventListener("click", () => tooltip.togglePopup());
    }

    init()
      .then((map) => createTooltip(map))
      .then((elments) => handleTooltip(elments));
  </script>
</div>
